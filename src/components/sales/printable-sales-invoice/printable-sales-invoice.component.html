

<div class="invoice-container">

  @if (invoice(); as inv) {
    <div class="invoice-header">
      <img src="/assets/logo.png" alt="Company Logo" class="logo">
      <div class="company-info">
        <h1>{{ companyInfo.name }}</h1>
        <p>{{ companyInfo.address }}</p>
        <p>الرقم الضريبي: {{ companyInfo.taxNumber }}</p>
      </div>
    </div>

    <div class="customer-info">
      <h3>{{ 'SALES.PRINTABLE.INVOICE_TO' | translate }}</h3>
      <p>{{ customer().name }}</p>
      <p>{{ customer().address }}</p>
      <p>الجوال: {{ customer().phone }}</p>
    </div>

    <table class="items-table">
      <thead>
        <tr>
          <th>{{ 'SALES.PRINTABLE.ITEM' | translate }}</th>
          <th>{{ 'SALES.PRINTABLE.QTY' | translate }}</th>
          <th>{{ 'SALES.PRINTABLE.UNIT_PRICE' | translate }}</th>
          <th>{{ 'SALES.PRINTABLE.LINE_TOTAL' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        @for(item of inv.items; track item.carId) {
          <tr>
            <td>{{ item.carDescription }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.unitPrice | currency:'SAR':'symbol':'1.0-2' }}</td>
            <td>{{ item.lineTotal | currency:'SAR':'symbol':'1.0-2' }}</td>
          </tr>
        }
      </tbody>
    </table>

    <div class="summary-section">
      <h3>{{ 'SALES.PRINTABLE.SUMMARY' | translate }}</h3>
      <p>Subtotal: {{ inv.subtotal | currency:'SAR':'symbol':'1.0-2' }}</p>
      <p>VAT: {{ inv.vatAmount | currency:'SAR':'symbol':'1.0-2' }}</p>
      <p class="total">Total: {{ inv.totalAmount | currency:'SAR':'symbol':'1.0-2' }}</p>
    </div>

    <div class="footer">
      <p>{{ 'SALES.PRINTABLE.THANKS' | translate }}</p>
    </div>
  } @else {
    <p class="text-center text-red-500 p-8">لم يتم العثور على الفاتورة المطلوبة.</p>
  }
</div>
<!-- Print Controls -->
<div class="mt-8 text-center no-print">
  <button (click)="goBack()" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg shadow hover:bg-gray-300 transition duration-300 ml-4">
    &larr; {{ 'SALES.PRINTABLE.BACK' | translate }}
  </button>
  <button (click)="printInvoice()" class="bg-primary-600 text-white px-6 py-2 rounded-lg shadow hover:bg-primary-700 transition duration-300">
    <svg class="inline-block w-5 h-5 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03-.48.062-.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0-1.131-12.112a1.125 1.125 0 0 0-1.12-1.006H8.348a1.125 1.125 0 0 0-1.12 1.006L6.098 18m11.318 0-2.829-5.115M6.34 18l-2.829-5.115m0 0a3.007 3.007 0 0 1-1.115-2.288V5.625a1.125 1.125 0 0 1 1.125-1.125h14.25a1.125 1.125 0 0 1 1.125 1.125v5.002c0 .823-.357 1.555-1.115 2.288m-13.03 0a1.125 1.125 0 0 1-1.125-1.125v-1.5c0-.621.504-1.125 1.125-1.125h14.25c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504-1.125-1.125 1.125m-14.25 0h14.25" /></svg>
    {{ 'SALES.PRINTABLE.PRINT' | translate }}
  </button>
</div>